(this["webpackJsonptrivia-front-end"]=this["webpackJsonptrivia-front-end"]||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a(27),r=a.n(n),l=a(9),o=a(3),i=(a(35),a(36),a(37),a(38),a.p+"static/media/fflogo.536a91da.png"),d=a(2),b=a(12),j=a(13),u=a(28),m=a.n(u).a.create({baseURL:"https://whispering-atoll-17177.herokuapp.com/api",headers:{"Content-type":"application/json"}}),h=new(function(){function e(){Object(b.a)(this,e)}return Object(j.a)(e,[{key:"findOrCreateUser",value:function(e){return m.post("/users",e)}},{key:"updateUserNickname",value:function(e){return m.put("/users",e)}},{key:"createAttempt",value:function(e){return m.post("/users/attempts/create",e)}},{key:"findAllDailyUserAttempts",value:function(e){return m.post("/users/attempts",e)}},{key:"findUserLeaderboard",value:function(){return m.get("/users/leaderboard")}}]),e}());var O=function(e){var t=Object(o.f)();return Object(c.jsx)("div",{className:"card col-md-8 col-10shadow cardMain cardHomePages",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h1",{className:"card-title text-center",children:"Start New Game"}),Object(c.jsxs)("h4",{className:"card-text text-center",children:["You have ",e.playsLeft," plays left today"]}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"d-grid gap-2 col-8 mx-auto",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){t.push("/play")},children:"Play"})})]})})};var x=function(e){var t=Object(o.f)();return Object(c.jsx)("div",{className:"card col-md-8 col-10 shadow CardMain cardHomePages",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("h1",{className:"text-center",children:["Your Score Today is ",e.totalScore]}),Object(c.jsxs)("h4",{className:"text-center",children:["You have ",e.playsLeft," plays left today"]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"d-grid gap-2 col-8 mx-auto",children:[Object(c.jsx)("button",{className:"btn btn-primary",type:"button",disabled:e.canPlay,onClick:function(){t.push("/play")},children:"Play"}),Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){t.push("/leaderboard")},children:"Leaderboard"})]})]})})};var f=function(){var e=Object(s.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(null),l=Object(d.a)(r,2),o=l[0],i=l[1],b=Object(s.useState)(""),j=Object(d.a)(b,2),u=j[0],m=j[1],f=localStorage.getItem("userEmail");return Object(s.useEffect)((function(){h.findAllDailyUserAttempts({email:f}).then((function(e){n(5-e.data.todaysAttempts),i(e.data.todaysScore)}))}),[f,a]),Object(s.useEffect)((function(){a<=0&&null!==a&&m("test")}),[a]),Object(c.jsx)(c.Fragment,{children:null!==o&&null!==a&&Object(c.jsx)(c.Fragment,{children:5===a?Object(c.jsx)(O,{playsLeft:a}):Object(c.jsx)(x,{playsLeft:a,totalScore:o,canPlay:u})})})};var p=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),l=Object(d.a)(r,2),o=l[0],i=l[1],b=Object(s.useState)(!1),j=Object(d.a)(b,2),u=j[0],m=j[1],O=Object(s.useState)(!1),x=Object(d.a)(O,2),p=x[0],g=x[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("userEmail");"test"===e||null===e?i(!1):(i(!0),n(localStorage.getItem("userEmail"))),m(!0)}),[]),Object(c.jsx)(c.Fragment,{children:u&&Object(c.jsx)(c.Fragment,{children:o?Object(c.jsx)(f,{}):Object(c.jsx)("div",{className:"card col-10 col-md-8 shadow cardMain cardHomePages",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h1",{className:"card-title text-center",children:"Enter Your Email Address to Play"}),Object(c.jsx)("h4",{className:"card-text text-center",children:"If you are a Mackenzie Health Professional please use your Mackenzie Health Email Address"}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"input-group mb-3 emailInput",children:Object(c.jsx)("input",{type:"email",className:"form-control emailInput",placeholder:"Enter your email address","aria-label":"emailaddress",onChange:function(e){n(e.target.value)},value:a})}),Object(c.jsx)("br",{}),p&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{className:"card-text text-center",children:"Please Enter an Email Address!"}),Object(c.jsx)("br",{})]}),Object(c.jsx)("div",{className:"d-grid gap-2 col-4 mx-auto",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){if(function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(a)){localStorage.setItem("userEmail",a);var e={email:a};h.findOrCreateUser(e).then((function(e){console.log(e),i(!0)}))}else g(!0)},children:"Submit"})})]})})})})},g=new(function(){function e(){Object(b.a)(this,e)}return Object(j.a)(e,[{key:"createQuestion",value:function(e){return m.post("/questions",e)}},{key:"getQuestions",value:function(){return m.get("/questions")}}]),e}());var v=function(){var e=Object(s.useState)(0),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),l=Object(d.a)(r,2),i=l[0],b=l[1],j=Object(s.useState)(0),u=Object(d.a)(j,2),m=u[0],O=u[1],x=Object(s.useState)(),f=Object(d.a)(x,2),p=f[0],v=f[1],N=Object(s.useState)(""),y=Object(d.a)(N,2),w=y[0],S=y[1],k=Object(s.useState)(""),A=Object(d.a)(k,2),C=A[0],E=A[1],I=Object(s.useState)(""),P=Object(d.a)(I,2),q=P[0],L=P[1],T=Object(s.useState)(!1),M=Object(d.a)(T,2),R=M[0],U=M[1],F=Object(s.useState)(-1),H=Object(d.a)(F,2),Y=H[0],D=H[1],Q=Object(o.f)();Object(s.useEffect)((function(){g.getQuestions().then((function(e){v(e.data),S(localStorage.getItem("userEmail"))}))}),[]);var z=function(e,t){return Y===t?e?(console.log("btn btn-lg questionAnswer answerRight"),"btn btn-lg questionAnswer answerRight"):(console.log("btn btn-lg questionAnswer answerWrong"),"btn btn-lg questionAnswer answerWrong"):R?e?(console.log("btn btn-lg questionAnswer answersRevealedRight"),"btn btn-lg questionAnswer answersRevealedRight"):(console.log("btn btn-lg questionAnswer answersRevealedWrong"),"btn btn-lg questionAnswer answersRevealedWrong"):(console.log("btn btn-lg questionAnswer"),"btn btn-lg questionAnswer")};return Object(c.jsx)(c.Fragment,{children:i?Object(c.jsx)("div",{className:"card col-md-8 col-10shadow cardMain cardHomePages",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("h2",{className:"text-center",children:["You Scored ",m," Points"]}),Object(c.jsx)("h1",{className:"text-center",children:"You Are Now On the Leaderboard"}),Object(c.jsx)("h4",{className:"text-center",children:"Please enter a nickname to be shown on the leaderboard with your score"}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"input-group mb-3 emailInput",children:Object(c.jsx)("input",{type:"text",className:"form-control emailInput",placeholder:"Enter nickname","aria-label":"emailaddress",onChange:function(e){E(e.target.value)},value:C})}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"d-grid gap-2 col-4 mx-auto",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){var e={score:m,numOfQs:p.length,email:w};h.createAttempt(e).then((function(e){console.log(e.data)}));var t={email:w,nickname:C};h.updateUserNickname(t).then((function(e){console.log(e.data)}));Q.push("/home")},children:"Submit"})})]})}):p&&Object(c.jsxs)("div",{className:"",children:[Object(c.jsx)("div",{className:"card col-md-8 col-10 shadow cardTitle questionTitle",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("h3",{children:["Question ",a+1]}),Object(c.jsx)("h2",{children:p[a].text})]})}),Object(c.jsxs)("div",{className:"card col-md-8 col-10 shadow cardMain",children:[Object(c.jsx)("div",{className:"d-grid gap-2 col-12 mx-auto",children:p[a].answers.map((function(e,t){return Object(c.jsx)("button",{id:t,className:z(e.isCorrect,t),type:"button",disabled:q,onClick:function(){return function(e,t){e&&O(m+1),D(t),L("disabled"),setTimeout((function(){U(!0),D(-1)}),1e3)}(e.isCorrect,t)},children:Y===t?e.isCorrect?"That's Right":"Good Try!":e.text},t)}))}),R&&Object(c.jsxs)("div",{className:"d-grid gap-2 mx-auto d-md-flex justify-content-md-end mt-4",children:[Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){U(!1);var e=a+1;L(""),n(e),e>=p.length&&b(!0)},children:"Next"}),Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(e){e.preventDefault();var t=p[a].learnMore;window.open(t,"_blank")},children:"Learn More"})]})]})]})})};var N=function(){var e=Object(s.useState)(),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(),l=Object(d.a)(r,2),o=l[0],i=l[1],b=Object(s.useState)(),j=Object(d.a)(b,2),u=j[0],m=j[1],O=Object(s.useState)(),x=Object(d.a)(O,2),f=x[0],p=x[1],g=Object(s.useState)(!0),v=Object(d.a)(g,2),N=v[0],y=v[1];return Object(s.useEffect)((function(){m(localStorage.getItem("userEmail")),y(!("test"===u||!u)),h.findUserLeaderboard().then((function(e){var t=e.data,a=function(e,t,a){for(var c=0;c<e.length;c+=1)if(e[c][t]===a)return c;return-1}(t,"email",u);i(a+1),-1!==a&&p(e.data[a].todaysScore),n(t.slice(0,10))}))}),[u,f]),Object(c.jsx)(c.Fragment,{children:a&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"card col-md-8 offset-md-2 col-sm-10 offset-sm-2 col-10 offset-sm-2 shadow cardTitle",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h1",{className:"text-center",children:"Today's Leaderboard"}),N&&Object(c.jsxs)("h4",{className:"text-center",children:["You are Currently #",o," with ",f," Points"]})]})}),Object(c.jsx)("div",{className:"card col-md-8 offset-md-2 col-sm-10 offset-sm-2 col-10 offset-sm-2 shadow leaderboard cardMain",children:Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"#"}),Object(c.jsx)("th",{scope:"col",children:"Nickname"}),Object(c.jsx)("th",{scope:"col",children:"Points"})]})}),Object(c.jsx)("tbody",{children:a.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:t+1}),Object(c.jsx)("td",{children:e.nickname}),Object(c.jsx)("td",{children:e.todaysScore})]},t)}))})]})})]})})};var y=function(){var e=Object(o.f)();return Object(s.useEffect)((function(){localStorage.setItem("userEmail","test");e.push("/home")}),[e]),Object(c.jsx)(c.Fragment,{})};var w=function(){return Object(c.jsx)("footer",{className:"footer mt-auto py-2",children:Object(c.jsx)("div",{className:"container d-flex justify-content-end",children:Object(c.jsx)("span",{className:"footer",children:"Icon images created by Vectorstall"})})})};var S=function(){var e=Object(o.g)();return Object(c.jsxs)("div",{className:"/play"===e.pathname?"cover-container h-100 d-flex flex-column play":"cover-container h-100 d-flex flex-column",children:[Object(c.jsx)("header",{className:"mb-auto flex-md-nowrap",children:Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsx)("img",{src:i,alt:"logo",className:"logo"}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03",children:[Object(c.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{to:"/home",exact:!0,activeClassName:"active",className:"nav-link","aria-current":"page",children:"Home"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{to:"/leaderboard",exact:!0,activeClassName:"active",className:"nav-link",tabIndex:"-1","aria-disabled":"true",children:"Leaderboard"})})]}),Object(c.jsx)("ul",{className:"navbar-nav",children:Object(c.jsx)("li",{className:"nav-item text-nowrap",children:Object(c.jsx)(l.b,{to:"/logout",exact:!0,activeClassName:"active",className:"nav-link",children:"Logout"})})})]})]})})}),Object(c.jsx)("div",{className:"",children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{exact:!0,path:["/","/home"],component:p}),Object(c.jsx)(o.a,{exact:!0,path:"/play",component:v}),Object(c.jsx)(o.a,{exact:!0,path:"/leaderboard",component:N}),Object(c.jsx)(o.a,{exact:!0,path:"/logout",component:y})]})}),Object(c.jsx)(w,{})]})};r.a.render(Object(c.jsx)(l.a,{children:Object(c.jsx)(S,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.df545136.chunk.js.map