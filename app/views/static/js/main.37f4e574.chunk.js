(this["webpackJsonptrivia-front-end"]=this["webpackJsonptrivia-front-end"]||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a(27),r=a.n(s),l=a(9),o=a(3),i=(a(35),a(36),a(37),a(38),a(2)),d=a(12),b=a(13),j=a(28),u=a.n(j).a.create({baseURL:"https://whispering-atoll-17177.herokuapp.com/api",headers:{"Content-type":"application/json"}}),m=new(function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,[{key:"findOrCreateUser",value:function(e){return u.post("/users",e)}},{key:"updateUserNickname",value:function(e){return u.put("/users",e)}},{key:"createAttempt",value:function(e){return u.post("/users/attempts/create",e)}},{key:"findAllDailyUserAttempts",value:function(e){return u.post("/users/attempts",e)}},{key:"findUserLeaderboard",value:function(){return u.get("/users/leaderboard")}}]),e}());var h=function(e){var t=Object(o.f)();return Object(c.jsx)("div",{className:"card col-md-8 col-10shadow cardMain cardHomePages",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h1",{className:"card-title text-center",children:"Start New Game"}),Object(c.jsxs)("h4",{className:"card-text text-center",children:["You have ",e.playsLeft," plays left today"]}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"d-grid gap-2 col-8 mx-auto",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){t.push("/play")},children:"Play"})})]})})};var O=function(e){var t=Object(o.f)();return Object(c.jsx)("div",{className:"card col-md-8 col-10 shadow CardMain cardHomePages",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("h1",{className:"text-center",children:["Your Score Today is ",e.totalScore]}),Object(c.jsxs)("h4",{className:"text-center",children:["You have ",e.playsLeft," plays left today"]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"d-grid gap-2 col-8 mx-auto",children:[Object(c.jsx)("button",{className:"btn btn-primary",type:"button",disabled:e.canPlay,onClick:function(){t.push("/play")},children:"Play"}),Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){t.push("/leaderboard")},children:"Leaderboard"})]})]})})};var x=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],d=l[1],b=Object(n.useState)(""),j=Object(i.a)(b,2),u=j[0],x=j[1],f=localStorage.getItem("userEmail");return Object(n.useEffect)((function(){m.findAllDailyUserAttempts({email:f}).then((function(e){s(5-e.data.todaysAttempts),d(e.data.todaysScore)}))}),[f,a]),Object(n.useEffect)((function(){a<=0&&null!==a&&x("test")}),[a]),Object(c.jsx)(c.Fragment,{children:null!==o&&null!==a&&Object(c.jsx)(c.Fragment,{children:5===a?Object(c.jsx)(h,{playsLeft:a}):Object(c.jsx)(O,{playsLeft:a,totalScore:o,canPlay:u})})})};var f=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],d=l[1],b=Object(n.useState)(!1),j=Object(i.a)(b,2),u=j[0],h=j[1],O=Object(n.useState)(!1),f=Object(i.a)(O,2),p=f[0],v=f[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("userEmail");"test"===e||null===e?d(!1):(d(!0),s(localStorage.getItem("userEmail"))),h(!0)}),[]),Object(c.jsx)(c.Fragment,{children:u&&Object(c.jsx)(c.Fragment,{children:o?Object(c.jsx)(x,{}):Object(c.jsx)("div",{className:"card col-10 col-md-8 shadow cardMain cardHomePages",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h1",{className:"card-title text-center",children:"Enter Your Email Address to Play"}),Object(c.jsx)("h4",{className:"card-text text-center",children:"If you are a Mackenzie Health Professional please use your Mackenzie Health Email Address"}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"input-group mb-3 emailInput",children:Object(c.jsx)("input",{type:"email",className:"form-control emailInput",placeholder:"Enter your email address","aria-label":"emailaddress",onChange:function(e){s(e.target.value)},value:a})}),Object(c.jsx)("br",{}),p&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{className:"card-text text-center",children:"Please Enter an Email Address!"}),Object(c.jsx)("br",{})]}),Object(c.jsx)("div",{className:"d-grid gap-2 col-4 mx-auto",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){if(function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(a)){localStorage.setItem("userEmail",a);var e={email:a};m.findOrCreateUser(e).then((function(e){console.log(e),d(!0)}))}else v(!0)},children:"Submit"})})]})})})})},p=new(function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,[{key:"createQuestion",value:function(e){return u.post("/questions",e)}},{key:"getQuestions",value:function(){return u.get("/questions")}}]),e}());var v=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),d=l[0],b=l[1],j=Object(n.useState)(0),u=Object(i.a)(j,2),h=u[0],O=u[1],x=Object(n.useState)(),f=Object(i.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),w=y[0],S=y[1],k=Object(n.useState)(""),A=Object(i.a)(k,2),C=A[0],E=A[1],I=Object(n.useState)(""),P=Object(i.a)(I,2),q=P[0],L=P[1],T=Object(n.useState)(!1),M=Object(i.a)(T,2),R=M[0],U=M[1],F=Object(n.useState)(-1),H=Object(i.a)(F,2),Y=H[0],D=H[1],Q=Object(o.f)();Object(n.useEffect)((function(){p.getQuestions().then((function(e){g(e.data),S(localStorage.getItem("userEmail"))}))}),[]);var z=function(e,t){return Y===t?e?(console.log("btn btn-lg questionAnswer answerRight"),"btn btn-lg questionAnswer answerRight"):(console.log("btn btn-lg questionAnswer answerWrong"),"btn btn-lg questionAnswer answerWrong"):R?e?(console.log("btn btn-lg questionAnswer answersRevealedRight"),"btn btn-lg questionAnswer answersRevealedRight"):(console.log("btn btn-lg questionAnswer answersRevealedWrong"),"btn btn-lg questionAnswer answersRevealedWrong"):(console.log("btn btn-lg questionAnswer"),"btn btn-lg questionAnswer")};return Object(c.jsx)(c.Fragment,{children:d?Object(c.jsx)("div",{className:"card col-md-8 col-10shadow cardMain cardHomePages",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("h2",{className:"text-center",children:["You Scored ",h," Points"]}),Object(c.jsx)("h1",{className:"text-center",children:"You Are Now On the Leaderboard"}),Object(c.jsx)("h4",{className:"text-center",children:"Please enter a nickname to be shown on the leaderboard with your score"}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"input-group mb-3 emailInput",children:Object(c.jsx)("input",{type:"text",className:"form-control emailInput",placeholder:"Enter nickname","aria-label":"emailaddress",onChange:function(e){E(e.target.value)},value:C})}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"d-grid gap-2 col-4 mx-auto",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){var e={score:h,numOfQs:v.length,email:w};m.createAttempt(e).then((function(e){console.log(e.data)}));var t={email:w,nickname:C};m.updateUserNickname(t).then((function(e){console.log(e.data)}));Q.push("/home")},children:"Submit"})})]})}):v&&Object(c.jsxs)("div",{className:"",children:[Object(c.jsx)("div",{className:"card col-md-8 col-10 shadow cardTitle questionTitle",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("h3",{children:["Question ",a+1]}),Object(c.jsx)("h2",{children:v[a].text})]})}),Object(c.jsxs)("div",{className:"card col-md-8 col-10 shadow cardMain",children:[Object(c.jsx)("div",{className:"d-grid gap-2 col-12 mx-auto",children:v[a].answers.map((function(e,t){return Object(c.jsx)("button",{id:t,className:z(e.isCorrect,t),type:"button",disabled:q,onClick:function(){return function(e,t){e&&O(h+1),D(t),L("disabled"),setTimeout((function(){U(!0),D(-1)}),1e3)}(e.isCorrect,t)},children:Y===t?e.isCorrect?"That's Right":"Good Try!":e.text},t)}))}),R&&Object(c.jsxs)("div",{className:"d-grid gap-2 mx-auto d-md-flex justify-content-md-end mt-4",children:[Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){U(!1);var e=a+1;L(""),s(e),e>=v.length&&b(!0)},children:"Next"}),Object(c.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(e){e.preventDefault();var t=v[a].learnMore;window.open(t,"_blank")},children:"Learn More"})]})]})]})})};var g=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(),l=Object(i.a)(r,2),o=l[0],d=l[1],b=Object(n.useState)(),j=Object(i.a)(b,2),u=j[0],h=j[1],O=Object(n.useState)(),x=Object(i.a)(O,2),f=x[0],p=x[1],v=Object(n.useState)(!0),g=Object(i.a)(v,2),N=g[0],y=g[1];return Object(n.useEffect)((function(){h(localStorage.getItem("userEmail")),y(!("test"===u||!u)),m.findUserLeaderboard().then((function(e){var t=e.data,a=function(e,t,a){for(var c=0;c<e.length;c+=1)if(e[c][t]===a)return c;return-1}(t,"email",u);d(a+1),-1!==a&&p(e.data[a].todaysScore),s(t.slice(0,10))}))}),[u,f]),Object(c.jsx)(c.Fragment,{children:a&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"card col-md-8 offset-md-2 col-sm-10 offset-sm-2 col-10 offset-sm-2 shadow cardTitle",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h1",{className:"text-center",children:"Today's Leaderboard"}),N&&Object(c.jsxs)("h4",{className:"text-center",children:["You are Currently #",o," with ",f," Points"]})]})}),Object(c.jsx)("div",{className:"card col-md-8 offset-md-2 col-sm-10 offset-sm-2 col-10 offset-sm-2 shadow leaderboard cardMain",children:Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"#"}),Object(c.jsx)("th",{scope:"col",children:"Nickname"}),Object(c.jsx)("th",{scope:"col",children:"Points"})]})}),Object(c.jsx)("tbody",{children:a.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:t+1}),Object(c.jsx)("td",{children:e.nickname}),Object(c.jsx)("td",{children:e.todaysScore})]},t)}))})]})})]})})};var N=function(){var e=Object(o.f)();return Object(n.useEffect)((function(){localStorage.setItem("userEmail","test");e.push("/home")}),[e]),Object(c.jsx)(c.Fragment,{})};var y=function(){return Object(c.jsx)("footer",{className:"footer mt-auto py-2",children:Object(c.jsx)("div",{className:"container d-flex justify-content-end",children:Object(c.jsx)("span",{className:"footer",children:"Icon images created by Vectorstall"})})})};var w=function(){var e=Object(o.g)();return Object(c.jsxs)("div",{className:"/play"===e.pathname?"cover-container h-100 d-flex flex-column play":"cover-container h-100 d-flex flex-column",children:[Object(c.jsx)("header",{className:"mb-auto flex-md-nowrap",children:Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsx)("a",{className:"navbar-brand",href:"/home",children:"Company Name"}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03",children:[Object(c.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{to:"/home",exact:!0,activeClassName:"active",className:"nav-link","aria-current":"page",children:"Home"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{to:"/leaderboard",exact:!0,activeClassName:"active",className:"nav-link",tabIndex:"-1","aria-disabled":"true",children:"Leaderboard"})})]}),Object(c.jsx)("ul",{className:"navbar-nav",children:Object(c.jsx)("li",{className:"nav-item text-nowrap",children:Object(c.jsx)(l.b,{to:"/logout",exact:!0,activeClassName:"active",className:"nav-link",children:"Logout"})})})]})]})})}),Object(c.jsx)("div",{className:"",children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{exact:!0,path:["/","/home"],component:f}),Object(c.jsx)(o.a,{exact:!0,path:"/play",component:v}),Object(c.jsx)(o.a,{exact:!0,path:"/leaderboard",component:g}),Object(c.jsx)(o.a,{exact:!0,path:"/logout",component:N})]})}),Object(c.jsx)(y,{})]})};r.a.render(Object(c.jsx)(l.a,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.37f4e574.chunk.js.map